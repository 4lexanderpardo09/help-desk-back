{
    "info": {
        "_postman_id": "help-desk-api-v1",
        "name": "Help Desk API",
        "description": "API REST del sistema Help Desk - Backend NestJS\n\n## Autenticación\nUsa JWT Bearer Token. Primero ejecuta el endpoint de login y copia el token en la variable `token`.\n\n## Variables\n- `base_url`: URL base del API (default: http://localhost:3000)\n- `token`: Token JWT obtenido del login",
        "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
    },
    "variable": [
        {
            "key": "base_url",
            "value": "http://localhost:3000",
            "type": "string"
        },
        {
            "key": "token",
            "value": "",
            "type": "string"
        }
    ],
    "item": [
        {
            "name": "Auth",
            "description": "Endpoints de autenticación",
            "item": [
                {
                    "name": "Login",
                    "event": [
                        {
                            "listen": "test",
                            "script": {
                                "exec": [
                                    "pm.test('Login exitoso', function () {",
                                    "    pm.response.to.have.status(201);",
                                    "});",
                                    "",
                                    "pm.test('Respuesta contiene accessToken', function () {",
                                    "    var jsonData = pm.response.json();",
                                    "    pm.expect(jsonData).to.have.property('accessToken');",
                                    "});",
                                    "",
                                    "// Guardar token automáticamente",
                                    "if (pm.response.code === 201) {",
                                    "    var jsonData = pm.response.json();",
                                    "    pm.collectionVariables.set('token', jsonData.accessToken);",
                                    "}"
                                ],
                                "type": "text/javascript"
                            }
                        }
                    ],
                    "request": {
                        "method": "POST",
                        "header": [
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            }
                        ],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n    \"email\": \"soportemesaayuda@gmail.com\",\n    \"password\": \"123456\"\n}"
                        },
                        "url": {
                            "raw": "{{base_url}}/auth/login",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "auth",
                                "login"
                            ]
                        },
                        "description": "Autentica un usuario y retorna un token JWT.\n\n**Payload del Token:**\n- `usu_id`: ID del usuario\n- `usu_correo`: Email del usuario\n- `rol_id`: ID del rol\n- `reg_id`: ID de la regional\n- `car_id`: ID del cargo\n- `dp_id`: ID del departamento\n- `es_nacional`: Boolean si es usuario nacional"
                    },
                    "response": []
                },
                {
                    "name": "Login - Credenciales inválidas",
                    "event": [
                        {
                            "listen": "test",
                            "script": {
                                "exec": [
                                    "pm.test('Retorna 401 Unauthorized', function () {",
                                    "    pm.response.to.have.status(401);",
                                    "});",
                                    "",
                                    "pm.test('Mensaje de error correcto', function () {",
                                    "    var jsonData = pm.response.json();",
                                    "    pm.expect(jsonData.message).to.eql('Credenciales inválidas');",
                                    "});"
                                ],
                                "type": "text/javascript"
                            }
                        }
                    ],
                    "request": {
                        "method": "POST",
                        "header": [
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            }
                        ],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n    \"email\": \"usuario@invalido.com\",\n    \"password\": \"wrongpassword\"\n}"
                        },
                        "url": {
                            "raw": "{{base_url}}/auth/login",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "auth",
                                "login"
                            ]
                        },
                        "description": "Test de login con credenciales inválidas - debe retornar 401"
                    },
                    "response": []
                },
                {
                    "name": "Get Profile",
                    "event": [
                        {
                            "listen": "test",
                            "script": {
                                "exec": [
                                    "pm.test('Perfil obtenido correctamente', function () {",
                                    "    pm.response.to.have.status(200);",
                                    "});",
                                    "",
                                    "pm.test('Respuesta contiene datos del usuario', function () {",
                                    "    var jsonData = pm.response.json();",
                                    "    pm.expect(jsonData).to.have.property('usu_id');",
                                    "    pm.expect(jsonData).to.have.property('usu_correo');",
                                    "    pm.expect(jsonData).to.have.property('rol_id');",
                                    "});"
                                ],
                                "type": "text/javascript"
                            }
                        }
                    ],
                    "request": {
                        "method": "GET",
                        "header": [
                            {
                                "key": "Authorization",
                                "value": "Bearer {{token}}"
                            }
                        ],
                        "url": {
                            "raw": "{{base_url}}/auth/profile",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "auth",
                                "profile"
                            ]
                        },
                        "description": "Obtiene el perfil del usuario autenticado basado en el token JWT.\n\n**Requiere:** Token JWT válido"
                    },
                    "response": []
                }
            ]
        },
        {
            "name": "Users",
            "description": "Gestión de usuarios (requiere autenticación)",
            "item": [
                {
                    "name": "List Users",
                    "event": [
                        {
                            "listen": "test",
                            "script": {
                                "exec": [
                                    "pm.test('Lista de usuarios obtenida', function () {",
                                    "    pm.response.to.have.status(200);",
                                    "});",
                                    "",
                                    "pm.test('Respuesta es un array', function () {",
                                    "    var jsonData = pm.response.json();",
                                    "    pm.expect(jsonData).to.be.an('array');",
                                    "});"
                                ],
                                "type": "text/javascript"
                            }
                        }
                    ],
                    "request": {
                        "method": "GET",
                        "header": [
                            {
                                "key": "Authorization",
                                "value": "Bearer {{token}}"
                            }
                        ],
                        "url": {
                            "raw": "{{base_url}}/users?includeDepartamento=true",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "users"
                            ],
                            "query": [
                                {
                                    "key": "included",
                                    "value": "regional,regional.zona,cargo,departamento",
                                    "description": "Scopes: Incluir relaciones (separadas por coma)"
                                },
                                {
                                    "key": "filter[rolId]",
                                    "value": "2",
                                    "description": "Filtro dinámico por rol (ej: 2 = agentes)",
                                    "disabled": true
                                },
                                {
                                    "key": "filter[email]",
                                    "value": "",
                                    "description": "Filtro dinámico por email",
                                    "disabled": true
                                },
                                {
                                    "key": "filter[cargoId]",
                                    "value": "1",
                                    "description": "Filtro dinámico por cargo",
                                    "disabled": true
                                },
                                {
                                    "key": "included",
                                    "value": "regional,regional.zona,cargo,departamento",
                                    "description": "Scopes: Incluir relaciones (separadas por coma)",
                                    "disabled": true
                                },
                                {
                                    "key": "filter[email]",
                                    "value": "",
                                    "description": "Filtro dinámico por email",
                                    "disabled": true
                                },
                                {
                                    "key": "filter[nombre]",
                                    "value": "",
                                    "description": "Filtro dinámico por nombre",
                                    "disabled": true
                                }
                            ]
                        },
                        "description": " MASTER ENDPOINT. Obtiene todos los usuarios. Soporta múltiples filtros por query params (cargo, zona, regional, etc.)."
                    },
                    "response": []
                },
                {
                    "name": "List Users / Array Filter",
                    "request": {
                        "method": "GET",
                        "header": [
                            {
                                "key": "Authorization",
                                "value": "Bearer {{token}}"
                            }
                        ],
                        "url": {
                            "raw": "{{base_url}}/users?filter[id]=1,2",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "users"
                            ],
                            "query": [
                                {
                                    "key": "filter[id]",
                                    "value": "1,2",
                                    "description": "Filtro por IDs múltiples (soporta arrays o CSV)"
                                }
                            ]
                        },
                        "description": "Ejemplo de filtrado por múltiples IDs usando el Smart Filter. Reemplaza a /by-ids."
                    },
                    "response": []
                },
                {
                    "name": "Show User",
                    "event": [
                        {
                            "listen": "test",
                            "script": {
                                "exec": [
                                    "pm.test('Usuario obtenido correctamente', function () {",
                                    "    pm.response.to.have.status(200);",
                                    "});"
                                ],
                                "type": "text/javascript"
                            }
                        }
                    ],
                    "request": {
                        "method": "GET",
                        "header": [
                            {
                                "key": "Authorization",
                                "value": "Bearer {{token}}"
                            }
                        ],
                        "url": {
                            "raw": "{{base_url}}/users/1",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "users",
                                "1"
                            ]
                        },
                        "description": "Obtiene un usuario específico por su ID.\n\n**Requiere:** Token JWT válido"
                    },
                    "response": []
                },
                {
                    "name": "Create User",
                    "event": [
                        {
                            "listen": "test",
                            "script": {
                                "exec": [
                                    "pm.test('Usuario creado correctamente', function () {",
                                    "    pm.response.to.have.status(201);",
                                    "});",
                                    "",
                                    "pm.test('Respuesta contiene ID del usuario', function () {",
                                    "    var jsonData = pm.response.json();",
                                    "    pm.expect(jsonData).to.have.property('id');",
                                    "});"
                                ],
                                "type": "text/javascript"
                            }
                        }
                    ],
                    "request": {
                        "method": "POST",
                        "header": [
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            },
                            {
                                "key": "Authorization",
                                "value": "Bearer {{token}}"
                            }
                        ],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n    \"nombre\": \"Nuevo\",\n    \"apellido\": \"Usuario\",\n    \"email\": \"nuevo.usuario@example.com\",\n    \"password\": \"123456\",\n    \"rolId\": 2,\n    \"esNacional\": false,\n    \"regionalId\": 1,\n    \"cargoId\": 1,\n    \"departamentoId\": null,\n    \"cedula\": \"1234567890\"\n}"
                        },
                        "url": {
                            "raw": "{{base_url}}/users",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "users"
                            ]
                        },
                        "description": "Crea un nuevo usuario en el sistema."
                    },
                    "response": []
                },
                {
                    "name": "Update User",
                    "event": [
                        {
                            "listen": "test",
                            "script": {
                                "exec": [
                                    "pm.test('Usuario actualizado correctamente', function () {",
                                    "    pm.response.to.have.status(200);",
                                    "});",
                                    "",
                                    "pm.test('Respuesta contiene datos actualizados', function () {",
                                    "    var jsonData = pm.response.json();",
                                    "    pm.expect(jsonData).to.have.property('id');",
                                    "    pm.expect(jsonData).to.have.property('fechaModificacion');",
                                    "});"
                                ],
                                "type": "text/javascript"
                            }
                        }
                    ],
                    "request": {
                        "method": "PUT",
                        "header": [
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            },
                            {
                                "key": "Authorization",
                                "value": "Bearer {{token}}"
                            }
                        ],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n    \"nombre\": \"Nombre Actualizado\",\n    \"apellido\": \"Apellido Actualizado\",\n    \"rolId\": 2\n}"
                        },
                        "url": {
                            "raw": "{{base_url}}/users/1",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "users",
                                "1"
                            ]
                        },
                        "description": "Actualiza un usuario existente. Solo se actualizan los campos enviados."
                    },
                    "response": []
                },
                {
                    "name": "Delete User",
                    "event": [
                        {
                            "listen": "test",
                            "script": {
                                "exec": [
                                    "pm.test('Usuario eliminado correctamente', function () {",
                                    "    pm.response.to.have.status(200);",
                                    "});",
                                    "",
                                    "pm.test('Respuesta confirma eliminación', function () {",
                                    "    var jsonData = pm.response.json();",
                                    "    pm.expect(jsonData.deleted).to.be.true;",
                                    "    pm.expect(jsonData).to.have.property('id');",
                                    "});"
                                ],
                                "type": "text/javascript"
                            }
                        }
                    ],
                    "request": {
                        "method": "DELETE",
                        "header": [
                            {
                                "key": "Authorization",
                                "value": "Bearer {{token}}"
                            }
                        ],
                        "url": {
                            "raw": "{{base_url}}/users/1",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "users",
                                "1"
                            ]
                        },
                        "description": "Elimina un usuario (soft delete). Marca estado = 0."
                    },
                    "response": []
                },
                {
                    "name": "Update Firma",
                    "request": {
                        "method": "PUT",
                        "header": [
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            },
                            {
                                "key": "Authorization",
                                "value": "Bearer {{token}}"
                            }
                        ],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n    \"firma\": \"path/to/firma.png\"\n}"
                        },
                        "url": {
                            "raw": "{{base_url}}/users/1/firma",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "users",
                                "1",
                                "firma"
                            ]
                        },
                        "description": "Actualiza la firma de un usuario."
                    },
                    "response": []
                },
                {
                    "name": "Sync User Perfiles",
                    "request": {
                        "method": "PUT",
                        "header": [
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            },
                            {
                                "key": "Authorization",
                                "value": "Bearer {{token}}"
                            }
                        ],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n    \"perfilIds\": [1, 2, 3]\n}"
                        },
                        "url": {
                            "raw": "{{base_url}}/users/1/perfiles",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "users",
                                "1",
                                "perfiles"
                            ]
                        },
                        "description": "Sincroniza perfiles de un usuario. Elimina los existentes e inserta los nuevos."
                    },
                    "response": []
                },
                {
                    "name": "Get User Perfiles",
                    "request": {
                        "method": "GET",
                        "header": [
                            {
                                "key": "Authorization",
                                "value": "Bearer {{token}}"
                            }
                        ],
                        "url": {
                            "raw": "{{base_url}}/users/1/perfiles",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "users",
                                "1",
                                "perfiles"
                            ]
                        },
                        "description": "Obtiene los perfiles asignados a un usuario."
                    },
                    "response": []
                }
            ]
        },
        {
            "name": "Permissions",
            "description": "Gestión de permisos dinámicos (requiere autenticación + permiso Permission)",
            "item": [
                {
                    "name": "List All Permissions",
                    "request": {
                        "method": "GET",
                        "header": [
                            {
                                "key": "Authorization",
                                "value": "Bearer {{token}}"
                            }
                        ],
                        "url": {
                            "raw": "{{base_url}}/permissions",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "permissions"
                            ]
                        },
                        "description": "Lista todos los permisos disponibles en el catálogo.\n\n**Permiso requerido:** `read Permission`"
                    },
                    "response": []
                },
                {
                    "name": "Get Role Permissions",
                    "request": {
                        "method": "GET",
                        "header": [
                            {
                                "key": "Authorization",
                                "value": "Bearer {{token}}"
                            }
                        ],
                        "url": {
                            "raw": "{{base_url}}/permissions/role/1",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "permissions",
                                "role",
                                "1"
                            ]
                        },
                        "description": "Obtiene los permisos asignados a un rol específico.\n\n**Permiso requerido:** `read Permission`"
                    },
                    "response": []
                },
                {
                    "name": "Sync Role Permissions",
                    "request": {
                        "method": "PUT",
                        "header": [
                            {
                                "key": "Authorization",
                                "value": "Bearer {{token}}"
                            },
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            }
                        ],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n    \"permisoIds\": [1, 2, 3, 4, 5]\n}"
                        },
                        "url": {
                            "raw": "{{base_url}}/permissions/role/2",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "permissions",
                                "role",
                                "2"
                            ]
                        },
                        "description": "Reemplaza TODOS los permisos de un rol con los nuevos IDs.\n\n**Permiso requerido:** `update Permission`\n\n**Body:**\n- `permisoIds`: Array de IDs de permisos a asignar"
                    },
                    "response": []
                },
                {
                    "name": "Add Permission to Role",
                    "request": {
                        "method": "POST",
                        "header": [
                            {
                                "key": "Authorization",
                                "value": "Bearer {{token}}"
                            }
                        ],
                        "url": {
                            "raw": "{{base_url}}/permissions/role/2/5",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "permissions",
                                "role",
                                "2",
                                "5"
                            ]
                        },
                        "description": "Agrega un permiso específico a un rol.\n\n**Params:**\n- `:rolId` - ID del rol\n- `:permisoId` - ID del permiso\n\n**Permiso requerido:** `update Permission`"
                    },
                    "response": []
                },
                {
                    "name": "Remove Permission from Role",
                    "request": {
                        "method": "DELETE",
                        "header": [
                            {
                                "key": "Authorization",
                                "value": "Bearer {{token}}"
                            }
                        ],
                        "url": {
                            "raw": "{{base_url}}/permissions/role/2/5",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "permissions",
                                "role",
                                "2",
                                "5"
                            ]
                        },
                        "description": "Remueve un permiso de un rol.\n\n**Params:**\n- `:rolId` - ID del rol\n- `:permisoId` - ID del permiso\n\n**Permiso requerido:** `update Permission`"
                    },
                    "response": []
                },
                {
                    "name": "Get Cache Status",
                    "request": {
                        "method": "GET",
                        "header": [
                            {
                                "key": "Authorization",
                                "value": "Bearer {{token}}"
                            }
                        ],
                        "url": {
                            "raw": "{{base_url}}/permissions/cache/status",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "permissions",
                                "cache",
                                "status"
                            ]
                        },
                        "description": "Obtiene el estado del caché de permisos.\n\n**Permiso requerido:** `manage Permission`\n\n**Response:**\n- `rolesInCache`: Número de roles en caché\n- `lastRefresh`: Fecha del último refresh"
                    },
                    "response": []
                },
                {
                    "name": "Refresh Cache",
                    "request": {
                        "method": "POST",
                        "header": [
                            {
                                "key": "Authorization",
                                "value": "Bearer {{token}}"
                            }
                        ],
                        "url": {
                            "raw": "{{base_url}}/permissions/cache/refresh",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "permissions",
                                "cache",
                                "refresh"
                            ]
                        },
                        "description": "Fuerza un refresh completo del caché de permisos.\n\n**Permiso requerido:** `manage Permission`\n\n**Usar cuando:** Se modificaron permisos directamente en BD"
                    },
                    "response": []
                }
            ]
        },
        {
            "name": "Zones",
            "description": "Gestión de Zonas (requiere autenticación + permiso Zone)",
            "item": [
                {
                    "name": "List Zones",
                    "request": {
                        "method": "GET",
                        "header": [
                            {
                                "key": "Authorization",
                                "value": "Bearer {{token}}"
                            }
                        ],
                        "url": {
                            "raw": "{{base_url}}/zones",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "zones"
                            ]
                        },
                        "description": "Lista zonas con filtros dinámicos.\n\n**Params:**\n- `included`: `regionales`\n- `filter[nombre]`: Filtro por nombre\n\n**Permiso:** `read Zone`"
                    },
                    "response": []
                },
                {
                    "name": "Get Zone",
                    "request": {
                        "method": "GET",
                        "header": [
                            {
                                "key": "Authorization",
                                "value": "Bearer {{token}}"
                            }
                        ],
                        "url": {
                            "raw": "{{base_url}}/zones/1?included=regionales",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "zones",
                                "1"
                            ],
                            "query": [
                                {
                                    "key": "included",
                                    "value": "regionales"
                                }
                            ]
                        },
                        "description": "Obtiene una zona por ID.\n\n**Permiso:** `read Zone`"
                    },
                    "response": []
                },
                {
                    "name": "Create Zone",
                    "request": {
                        "method": "POST",
                        "header": [
                            {
                                "key": "Authorization",
                                "value": "Bearer {{token}}"
                            },
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            }
                        ],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n    \"nombre\": \"Zona Norte\"\n}"
                        },
                        "url": {
                            "raw": "{{base_url}}/zones",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "zones"
                            ]
                        },
                        "description": "Crea una nueva zona.\n\n**Permiso:** `create Zone`"
                    },
                    "response": []
                },
                {
                    "name": "Update Zone",
                    "request": {
                        "method": "PUT",
                        "header": [
                            {
                                "key": "Authorization",
                                "value": "Bearer {{token}}"
                            },
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            }
                        ],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n    \"nombre\": \"Zona Norte Modificada\"\n}"
                        },
                        "url": {
                            "raw": "{{base_url}}/zones/1",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "zones",
                                "1"
                            ]
                        },
                        "description": "Actualiza una zona.\n\n**Permiso:** `update Zone`"
                    },
                    "response": []
                },
                {
                    "name": "Delete Zone",
                    "request": {
                        "method": "DELETE",
                        "header": [
                            {
                                "key": "Authorization",
                                "value": "Bearer {{token}}"
                            }
                        ],
                        "url": {
                            "raw": "{{base_url}}/zones/1",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "zones",
                                "1"
                            ]
                        },
                        "description": "Soft delete de una zona.\n\n**Permiso:** `delete Zone`"
                    },
                    "response": []
                }
            ]
        },
        {
            "name": "Categories",
            "description": "Gestión de Categorías (requiere autenticación + permiso Category)",
            "item": [
                {
                    "name": "List Categories",
                    "request": {
                        "method": "GET",
                        "header": [
                            {
                                "key": "Authorization",
                                "value": "Bearer {{token}}"
                            }
                        ],
                        "url": {
                            "raw": "{{base_url}}/categories?page=1&limit=10",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "categories"
                            ],
                            "query": [
                                {
                                    "key": "page",
                                    "value": "1",
                                    "description": "Número de página"
                                },
                                {
                                    "key": "limit",
                                    "value": "10",
                                    "description": "Resultados por página"
                                },
                                {
                                    "key": "included",
                                    "value": "subcategorias,departamentos,empresas",
                                    "description": "Relaciones a incluir",
                                    "disabled": true
                                },
                                {
                                    "key": "filter[nombre]",
                                    "value": "",
                                    "description": "Filtrar por nombre",
                                    "disabled": true
                                },
                                {
                                    "key": "filter[estado]",
                                    "value": "1",
                                    "description": "Filtrar por estado",
                                    "disabled": true
                                }
                            ]
                        },
                        "description": "Lista categorías con filtros dinámicos.\n\n**Params:**\n- `page`: Número de página\n- `limit`: Resultados por página\n- `included`: `subcategorias,departamentos,empresas`\n- `filter[nombre]`: Filtro por nombre\n\n**Permiso:** `read Category`"
                    },
                    "response": []
                },
                {
                    "name": "Get Category",
                    "request": {
                        "method": "GET",
                        "header": [
                            {
                                "key": "Authorization",
                                "value": "Bearer {{token}}"
                            }
                        ],
                        "url": {
                            "raw": "{{base_url}}/categories/1?included=subcategorias",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "categories",
                                "1"
                            ],
                            "query": [
                                {
                                    "key": "included",
                                    "value": "subcategorias"
                                }
                            ]
                        },
                        "description": "Obtiene una categoría por ID.\n\n**Permiso:** `read Category`"
                    },
                    "response": []
                },
                {
                    "name": "Create Category",
                    "request": {
                        "method": "POST",
                        "header": [
                            {
                                "key": "Authorization",
                                "value": "Bearer {{token}}"
                            },
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            }
                        ],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n    \"nombre\": \"Hardware\",\n    \"estado\": 1\n}"
                        },
                        "url": {
                            "raw": "{{base_url}}/categories",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "categories"
                            ]
                        },
                        "description": "Crea una nueva categoría.\n\n**Permiso:** `create Category`"
                    },
                    "response": []
                },
                {
                    "name": "Update Category",
                    "request": {
                        "method": "PUT",
                        "header": [
                            {
                                "key": "Authorization",
                                "value": "Bearer {{token}}"
                            },
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            }
                        ],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n    \"nombre\": \"Hardware Actualizado\"\n}"
                        },
                        "url": {
                            "raw": "{{base_url}}/categories/1",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "categories",
                                "1"
                            ]
                        },
                        "description": "Actualiza una categoría.\n\n**Permiso:** `update Category`"
                    },
                    "response": []
                },
                {
                    "name": "Delete Category",
                    "request": {
                        "method": "DELETE",
                        "header": [
                            {
                                "key": "Authorization",
                                "value": "Bearer {{token}}"
                            }
                        ],
                        "url": {
                            "raw": "{{base_url}}/categories/1",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "categories",
                                "1"
                            ]
                        },
                        "description": "Soft delete de una categoría.\n\n**Permiso:** `delete Category`"
                    },
                    "response": []
                }
            ]
        },
        {
            "name": "Companies",
            "description": "Gestión de Empresas (requiere autenticación + permiso Company)",
            "item": [
                {
                    "name": "List Companies",
                    "request": {
                        "method": "GET",
                        "header": [
                            {
                                "key": "Authorization",
                                "value": "Bearer {{token}}"
                            }
                        ],
                        "url": {
                            "raw": "{{base_url}}/companies?page=1&limit=10",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "companies"
                            ],
                            "query": [
                                {
                                    "key": "page",
                                    "value": "1",
                                    "description": "Número de página"
                                },
                                {
                                    "key": "limit",
                                    "value": "10",
                                    "description": "Resultados por página"
                                },
                                {
                                    "key": "included",
                                    "value": "usuarios,categorias",
                                    "description": "Relaciones a incluir",
                                    "disabled": true
                                },
                                {
                                    "key": "filter[nombre]",
                                    "value": "",
                                    "description": "Filtrar por nombre",
                                    "disabled": true
                                },
                                {
                                    "key": "filter[estado]",
                                    "value": "1",
                                    "description": "Filtrar por estado",
                                    "disabled": true
                                }
                            ]
                        },
                        "description": "Lista empresas con filtros dinámicos.\n\n**Permiso:** `read Company`"
                    },
                    "response": []
                },
                {
                    "name": "Get Company",
                    "request": {
                        "method": "GET",
                        "header": [
                            {
                                "key": "Authorization",
                                "value": "Bearer {{token}}"
                            }
                        ],
                        "url": {
                            "raw": "{{base_url}}/companies/1",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "companies",
                                "1"
                            ]
                        },
                        "description": "Obtiene una empresa por ID.\n\n**Permiso:** `read Company`"
                    },
                    "response": []
                },
                {
                    "name": "Create Company",
                    "request": {
                        "method": "POST",
                        "header": [
                            {
                                "key": "Authorization",
                                "value": "Bearer {{token}}"
                            },
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            }
                        ],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n    \"nombre\": \"Nueva Empresa\",\n    \"estado\": 1\n}"
                        },
                        "url": {
                            "raw": "{{base_url}}/companies",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "companies"
                            ]
                        },
                        "description": "Crea una nueva empresa.\n\n**Permiso:** `create Company`"
                    },
                    "response": []
                },
                {
                    "name": "Update Company",
                    "request": {
                        "method": "PUT",
                        "header": [
                            {
                                "key": "Authorization",
                                "value": "Bearer {{token}}"
                            },
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            }
                        ],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n    \"nombre\": \"Empresa Modificada\"\n}"
                        },
                        "url": {
                            "raw": "{{base_url}}/companies/1",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "companies",
                                "1"
                            ]
                        },
                        "description": "Actualiza una empresa.\n\n**Permiso:** `update Company`"
                    },
                    "response": []
                },
                {
                    "name": "Delete Company",
                    "request": {
                        "method": "DELETE",
                        "header": [
                            {
                                "key": "Authorization",
                                "value": "Bearer {{token}}"
                            }
                        ],
                        "url": {
                            "raw": "{{base_url}}/companies/1",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "companies",
                                "1"
                            ]
                        },
                        "description": "Soft delete de una empresa.\n\n**Permiso:** `delete Company`"
                    },
                    "response": []
                }
            ]
        },
        {
            "name": "Departments",
            "description": "Gestión de Departamentos (requiere autenticación + permiso Department)",
            "item": [
                {
                    "name": "List Departments",
                    "request": {
                        "method": "GET",
                        "header": [
                            {
                                "key": "Authorization",
                                "value": "Bearer {{token}}"
                            }
                        ],
                        "url": {
                            "raw": "{{base_url}}/departments?page=1&limit=10",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "departments"
                            ],
                            "query": [
                                {
                                    "key": "page",
                                    "value": "1",
                                    "description": "Número de página"
                                },
                                {
                                    "key": "limit",
                                    "value": "10",
                                    "description": "Resultados por página"
                                },
                                {
                                    "key": "included",
                                    "value": "usuarios,categorias",
                                    "description": "Relaciones a incluir",
                                    "disabled": true
                                },
                                {
                                    "key": "filter[nombre]",
                                    "value": "",
                                    "description": "Filtrar por nombre",
                                    "disabled": true
                                },
                                {
                                    "key": "filter[estado]",
                                    "value": "1",
                                    "description": "Filtrar por estado",
                                    "disabled": true
                                }
                            ]
                        },
                        "description": "Lista departamentos con filtros dinámicos.\n\n**Permiso:** `read Department`"
                    },
                    "response": []
                },
                {
                    "name": "Get Department",
                    "request": {
                        "method": "GET",
                        "header": [
                            {
                                "key": "Authorization",
                                "value": "Bearer {{token}}"
                            }
                        ],
                        "url": {
                            "raw": "{{base_url}}/departments/1",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "departments",
                                "1"
                            ]
                        },
                        "description": "Obtiene un departamento por ID.\n\n**Permiso:** `read Department`"
                    },
                    "response": []
                },
                {
                    "name": "Create Department",
                    "request": {
                        "method": "POST",
                        "header": [
                            {
                                "key": "Authorization",
                                "value": "Bearer {{token}}"
                            },
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            }
                        ],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n    \"nombre\": \"Nuevo Departamento\",\n    \"estado\": 1\n}"
                        },
                        "url": {
                            "raw": "{{base_url}}/departments",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "departments"
                            ]
                        },
                        "description": "Crea un nuevo departamento.\n\n**Permiso:** `create Department`"
                    },
                    "response": []
                },
                {
                    "name": "Update Department",
                    "request": {
                        "method": "PUT",
                        "header": [
                            {
                                "key": "Authorization",
                                "value": "Bearer {{token}}"
                            },
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            }
                        ],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n    \"nombre\": \"Departamento Modificado\"\n}"
                        },
                        "url": {
                            "raw": "{{base_url}}/departments/1",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "departments",
                                "1"
                            ]
                        },
                        "description": "Actualiza un departamento.\n\n**Permiso:** `update Department`"
                    },
                    "response": []
                },
                {
                    "name": "Delete Department",
                    "request": {
                        "method": "DELETE",
                        "header": [
                            {
                                "key": "Authorization",
                                "value": "Bearer {{token}}"
                            }
                        ],
                        "url": {
                            "raw": "{{base_url}}/departments/1",
                            "host": [
                                "{{base_url}}"
                            ],
                            "path": [
                                "departments",
                                "1"
                            ]
                        },
                        "description": "Soft delete de un departamento.\n\n**Permiso:** `delete Department`"
                    },
                    "response": []
                }
            ]
        }
    ]
}